<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FocusFlow | Pro Pomodoro Timer</title>
    <style>
        :root { --primary: #38bdf8; --bg: #0f172a; --card: #1e293b; --work: #22c55e; --break: #f59e0b; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        .container { text-align: center; background: var(--card); padding: 3rem; border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); width: 85%; max-width: 450px; border: 1px solid rgba(255,255,255,0.1); }
        #status { font-size: 1.2rem; font-weight: bold; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 10px; color: var(--work); }
        #timer { font-size: 6rem; font-weight: 800; margin: 1rem 0; color: var(--primary); text-shadow: 0 0 20px rgba(56, 189, 248, 0.3); }
        .controls button { padding: 15px 30px; font-size: 1.1rem; border: none; border-radius: 15px; cursor: pointer; transition: 0.3s; margin: 5px; font-weight: bold; }
        .start { background: var(--work); color: white; }
        .reset { background: #64748b; color: white; }
        .ad-space { margin-top: 30px; padding: 15px; background: rgba(255,255,255,0.05); border: 1px dashed #475569; border-radius: 10px; font-size: 0.8rem; color: #94a3b8; }
    </style>
</head>
<body>

<div class="container">
    <div id="status">Work Time</div>
    <div id="timer">25:00</div>
    
    <div class="controls">
        <button class="start" id="startBtn" onclick="toggleTimer()">Start Focus</button>
        <button class="reset" onclick="resetTimer()">Reset</button>
    </div>

    <div class="ad-space">ADVERTISEMENT SPACE<br>(Revenue Ready)</div>
</div>

<script>
    let timer;
    let isRunning = false;
    let isWorkSession = true;
    let timeLeft = 25 * 60;

    const statusDisplay = document.getElementById('status');
    const timerDisplay = document.getElementById('timer');
    const startBtn = document.getElementById('startBtn');

    // وظيفة الصوت (بدون ملفات خارجية)
    function playSound(type) {
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();
        osc.connect(gain);
        gain.connect(ctx.destination);
        
        if(type === 'work') { osc.frequency.value = 880; } // صوت حاد للعمل
        else { osc.frequency.value = 440; } // صوت منخفض للراحة
        
        osc.start();
        gain.gain.exponentialRampToValueAtTime(0.00001, ctx.currentTime + 1);
        osc.stop(ctx.currentTime + 1);
    }

    function updateDisplay() {
        const mins = Math.floor(timeLeft / 60);
        const secs = timeLeft % 60;
        timerDisplay.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }

    function toggleTimer() {
        if (!isRunning) {
            isRunning = true;
            startBtn.textContent = "Pause";
            timer = setInterval(() => {
                if (timeLeft > 0) {
                    timeLeft--;
                    updateDisplay();
                } else {
                    clearInterval(timer);
                    isRunning = false;
                    switchSession();
                }
            }, 1000);
        } else {
            clearInterval(timer);
            isRunning = false;
            startBtn.textContent = "Resume";
        }
    }

    function switchSession() {
        isWorkSession = !isWorkSession;
        if (isWorkSession) {
            timeLeft = 25 * 60;
            statusDisplay.textContent = "Work Time";
            statusDisplay.style.color = "#22c55e";
            playSound('work');
        } else {
            timeLeft = 5 * 60;
            statusDisplay.textContent = "Break Time";
            statusDisplay.style.color = "#f59e0b";
            playSound('break');
        }
        updateDisplay();
        toggleTimer(); // يبدأ الجلسة التالية تلقائياً
    }

    function resetTimer() {
        clearInterval(timer);
        isRunning = false;
        isWorkSession = true;
        timeLeft = 25 * 60;
        statusDisplay.textContent = "Work Time";
        statusDisplay.style.color = "#22c55e";
        startBtn.textContent = "Start Focus";
        updateDisplay();
    }
</script>
</body>
</html>